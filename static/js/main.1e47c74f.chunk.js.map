{"version":3,"sources":["Components/Modal/Modal.module.css","Components/Loader/Loader.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/ErrorMessage/NoResult.module.css","Components/App.module.css","Components/services/imgSearchAPI.js","Components/Searchbar/SearchBar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","Components/Loader/Loader.jsx","Components/ErrorMessage/ErrorMessage.jsx","Components/ErrorMessage/NoResult.jsx","Components/App.jsx","index.js","Components/Searchbar/SearchBar.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","fetchImages","query","page","axios","get","SearchBar","state","handleChange","e","setState","target","value","handleSubmit","preventDefault","onSubmit","props","this","className","styles","Searchbar","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","onClick","id","src","webformatURL","alt","tags","ImageGalleryItemImage","defaultProps","ImageGallery","images","openModal","length","map","key","Button","onLoadMore","Modal","overlayRef","createRef","handleEscButton","keyCode","onCloseModal","handleBackdropClick","current","window","addEventListener","removeEventListener","imgId","fullScreenImg","find","Overlay","ref","largeImageURL","role","App","Wrapper","color","height","width","timeout","Loader","ErrorMessage","text","NoResult","isLoading","error","isModalOpen","imgSearchAPI","then","res","prevState","data","hits","catch","finally","handleOpenModal","handleCloseModal","handleLoadMore","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","message","ReactDOM","render","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,QAAU,wBAAwB,OAAS,yB,mBCA7DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,SAAW,6B,mBCA7BD,EAAOC,QAAU,CAAC,IAAM,mB,4KCIXC,EAAc,SAACC,EAAOC,GAAR,OACzBC,IAAMC,IAAN,UAJe,2BAIf,cACmBH,EADnB,iBACiCC,EADjC,gBAHU,qCAGV,0D,gBCFmBG,E,2MAKnBC,MAAQ,CAAEL,MAAO,K,EAEjBM,aAAe,SAAAC,GACb,EAAKC,SAAS,CACZR,MAAOO,EAAEE,OAAOC,S,EAIpBC,aAAe,SAAAJ,GACbA,EAAEK,kBAKFC,EAHqB,EAAKC,MAAlBD,UACU,EAAKR,MAAfL,OAIR,EAAKQ,SAAS,CAAER,MAAO,O,wEAGf,IACAA,EAAUe,KAAKV,MAAfL,MAER,OACE,4BAAQgB,UAAWC,IAAOC,WACxB,0BAAMF,UAAWC,IAAOE,WAAYN,SAAUE,KAAKJ,cACjD,4BAAQS,KAAK,SAASJ,UAAWC,IAAOI,kBACtC,0BAAML,UAAWC,IAAOK,uBAAxB,WAGF,2BACEN,UAAWC,IAAOM,gBAClBH,KAAK,OACLV,MAAOV,EACPwB,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAUZ,KAAKT,qB,GAzCYsB,a,gBCAjCC,EAAmB,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QACjC,OACE,wBAAIA,QAAS,kBAAMA,EAAQD,EAAME,KAAKhB,UAAWC,IAAOY,kBACtD,yBACEI,IAAKH,EAAMI,aACXC,IAAKL,EAAMM,KACXpB,UAAWC,IAAOoB,0BAM1BR,EAAiBS,aAAe,CAC9BF,KAAM,gCAYOP,Q,iBCGAU,EA3BM,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UAC9B,OACE,6BACGD,EAAOE,OAAS,GACf,wBAAI1B,UAAWC,IAAOsB,cACnBC,EAAOG,KAAI,SAAAb,GAAK,OACf,kBAAC,EAAD,CACEc,IAAKd,EAAME,GACXF,MAAOA,EACPC,QAASU,U,iBCARI,EAVA,SAAC,GAAD,IAAGC,EAAH,EAAGA,WAAH,OACb,4BAAQ1B,KAAK,SAASJ,UAAWC,IAAO4B,OAAQd,QAASe,GAAzD,c,iBCDmBC,E,2MACnBC,WAAaC,sB,EAgBbC,gBAAkB,SAAA3C,GACE,KAAdA,EAAE4C,SACJ,EAAKrC,MAAMsC,gB,EAIfC,oBAAsB,SAAA9C,GACA,EAAKyC,WAAjBM,UAEQ/C,EAAEE,QAChB,EAAKK,MAAMsC,gB,mFAjBbG,OAAOC,iBAAiB,UAAWzC,KAAKmC,mB,6CAIxCK,OAAOE,oBAAoB,UAAW1C,KAAKmC,mB,+BAiBnC,IAAD,EACiCnC,KAAKD,MAArC4C,EADD,EACCA,MAAOlB,EADR,EACQA,OAAQY,EADhB,EACgBA,aAEjBO,EAAgBnB,EAAOoB,MAAK,SAAA9B,GAAK,OAAIA,EAAME,KAAO0B,KAExD,OACE,yBACE1C,UAAWC,IAAO4C,QAClBC,IAAK/C,KAAKiC,WACVjB,QAASqB,GAET,yBAAKpC,UAAWC,IAAO8B,OACrB,yBAAKd,IAAK0B,EAAcI,cAAe5B,IAAI,GAAG6B,KAAK,uB,GA3C1BpC,a,0CCCdqC,E,iLAEjB,OACE,yBAAKjD,UAAWC,IAAOiD,SACrB,kBAAC,IAAD,CACE9C,KAAK,OACL+C,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,IACTtD,UAAWC,IAAOsD,c,GAVK3C,aCF3B4C,EAAe,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OACnB,6BACE,qDAA2BA,GAC3B,gDAIWD,IAEfA,EAAalC,aAAe,CAC1BmC,KAAM,gE,qBCFOC,EARE,kBACf,6BACE,yBAAK1D,UAAWC,IAAOyD,UACrB,wD,iBCKeT,E,2MACnB5D,MAAQ,CACNmC,OAAQ,GACRmC,WAAW,EACXC,MAAO,KACP5E,MAAO,IACPC,KAAM,EACNyD,MAAO,KACPmB,aAAa,G,EAkBf9E,YAAc,SAACC,EAAOC,GACpB,EAAKO,SAAS,CAAEmE,WAAW,IAE3BG,EACe9E,EAAOC,GACnB8E,MAAK,SAAAC,GAAG,OACP,EAAKxE,UAAS,SAAAyE,GAAS,MAAK,CAC1BzC,OAAO,GAAD,mBAAMyC,EAAUzC,QAAhB,YAA2BwC,EAAIE,KAAKC,cAG7CC,OAAM,SAAAR,GAAK,OAAI,EAAKpE,SAAS,CAAEoE,aAC/BS,SAAQ,WACP,EAAK7E,SAAS,CAAEmE,WAAW,Q,EAIjChE,aAAe,SAAAX,GACb,EAAKQ,SAAS,CAAER,QAAOwC,OAAQ,GAAIvC,KAAM,K,EAG3CqF,gBAAkB,SAAAtD,GAChB,EAAKxB,SAAS,CAAEqE,aAAa,EAAMnB,MAAO1B,K,EAG5CuD,iBAAmB,SAAAhF,GACjB,EAAKC,SAAS,CACZqE,aAAa,EACbnB,MAAO,M,EAIX8B,eAAiB,WAAO,IACdvF,EAAS,EAAKI,MAAdJ,KAER,EAAKO,SAAS,CACZP,KAAMA,EAAO,EACb0E,WAAW,K,kFAnDIc,EAAWR,GAAY,IAAD,EACPlE,KAAKV,MAA7BJ,EAD+B,EAC/BA,KAAMD,EADyB,EACzBA,MAAOwC,EADkB,EAClBA,OAEjByC,EAAUjF,QAAUA,GAASiF,EAAUhF,OAASA,GAClDc,KAAKhB,YAAYC,EAAOC,GAGtBuC,EAAOE,OAAS,IAClBa,OAAOmC,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,a,+BA6CN,IAAD,EACkDhF,KAAKV,MAAtDmC,EADD,EACCA,OAAQmC,EADT,EACSA,UAAWC,EADpB,EACoBA,MAAOC,EAD3B,EAC2BA,YAAanB,EADxC,EACwCA,MAC/C,OACE,yBAAK1C,UAAWC,IAAOgD,KACrB,kBAAC,EAAD,CAAWpD,SAAUE,KAAKJ,eAEzBkE,GACC,kBAAC,EAAD,CACEnB,MAAOA,EACPlB,OAAQA,EACRY,aAAcrC,KAAKwE,mBAGvB,kBAAC,EAAD,CAAc/C,OAAQA,EAAQC,UAAW1B,KAAKuE,kBAC7CX,GAAa,kBAAC,EAAD,MACbC,GAAS,kBAAC,EAAD,CAAcH,KAAMG,EAAMoB,UACjB,IAAlBxD,EAAOE,QAAgB,kBAAC,EAAD,MACvBF,EAAOE,QAAU,IAAM,kBAAC,EAAD,CAAQI,WAAY/B,KAAKyE,sB,GAnFxB5D,aCPjCqE,IAASC,OAAO,kBAAC,EAAD,MAASN,SAASO,eAAe,U,kBCHjDtG,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,oBAAoB,qCAAqC,sBAAwB,yCAAyC,gBAAkB,mCAAmC,mBAAmB,sC,kBCA/VD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,mD","file":"static/js/main.1e47c74f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2JTGt\",\"Modal\":\"Modal_Modal__3Q7_z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"Loader_Wrapper__2tHqR\",\"Loader\":\"Loader_Loader__5qZdQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1lKzC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__36bjZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NoResult\":\"NoResult_NoResult__1uQf6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3xbtp\"};","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst key = \"15341252-d98da9da1eab29ae79b0f2c1a\";\r\n\r\nexport const fetchImages = (query, page) =>\r\n  axios.get(\r\n    `${BASE_URL}?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./SearchBar.module.css\";\r\n\r\nexport default class SearchBar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n  };\r\n\r\n  state = { query: \" \" };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      query: e.target.value\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const { onSubmit } = this.props;\r\n    const { query } = this.state;\r\n\r\n    onSubmit(query);\r\n\r\n    this.setState({ query: \" \" });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            value={query}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ image, onClick }) => {\r\n  return (\r\n    <li onClick={() => onClick(image.id)} className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.tags}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  tags: \"Content from www.pixabay.com\"\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string,\r\n    id: PropTypes.number.isRequired\r\n  }).isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <div>\r\n      {images.length > 0 && (\r\n        <ul className={styles.ImageGallery}>\r\n          {images.map(image => (\r\n            <ImageGalleryItem\r\n              key={image.id}\r\n              image={image}\r\n              onClick={openModal}\r\n            />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired\r\n    }).isRequired\r\n  ).isRequired,\r\n  openModal: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <button type=\"button\" className={styles.Button} onClick={onLoadMore}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component, createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  overlayRef = createRef();\r\n\r\n  static propTypes = {\r\n    onCloseModal: PropTypes.func.isRequired,\r\n    imgId: PropTypes.number.isRequired,\r\n    images: PropTypes.arrayOf.isRequired\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleEscButton);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleEscButton);\r\n  }\r\n\r\n  handleEscButton = e => {\r\n    if (e.keyCode === 27) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    const { current } = this.overlayRef;\r\n\r\n    if (current === e.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { imgId, images, onCloseModal } = this.props;\r\n\r\n    const fullScreenImg = images.find(image => image.id === imgId);\r\n\r\n    return (\r\n      <div\r\n        className={styles.Overlay}\r\n        ref={this.overlayRef}\r\n        onClick={onCloseModal}\r\n      >\r\n        <div className={styles.Modal}>\r\n          <img src={fullScreenImg.largeImageURL} alt=\"\" role=\"presentation\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport styles from \"./Loader.module.css\";\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <div className={styles.Wrapper}>\r\n        <Loader\r\n          type=\"Bars\"\r\n          color=\"#adadad\"\r\n          height={100}\r\n          width={100}\r\n          timeout={3000}\r\n          className={styles.Loader}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ErrorMessage = ({ text }) => (\r\n  <div>\r\n    <h3>Something went wrong: {text}</h3>\r\n    <p>Try again later</p>\r\n  </div>\r\n);\r\n\r\nexport default ErrorMessage;\r\n\r\nErrorMessage.defaultProps = {\r\n  text: \"Something went wrong! We are working on it. Try agaim later!\"\r\n};\r\n\r\nErrorMessage.propTypes = {\r\n  text: PropTypes.string\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./NoResult.module.css\";\r\n\r\nconst NoResult = () => (\r\n  <div>\r\n    <div className={styles.NoResult}>\r\n      <h3>Try to find images!!!</h3>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default NoResult;\r\n","import React, { Component } from \"react\";\nimport * as imgSearchAPI from \"./services/imgSearchAPI\";\nimport SearchBar from \"./Searchbar/SearchBar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Button from \"./Button/Button\";\nimport Modal from \"./Modal/Modal\";\nimport Loader from \"./Loader/Loader\";\nimport ErrorMessage from \"./ErrorMessage/ErrorMessage\";\nimport NoResult from \"./ErrorMessage/NoResult\";\nimport styles from \"./App.module.css\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: null,\n    query: \" \",\n    page: 1,\n    imgId: null,\n    isModalOpen: false\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, query, images } = this.state;\n\n    if (prevState.query !== query || prevState.page !== page) {\n      this.fetchImages(query, page);\n    }\n\n    if (images.length > 12) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\"\n      });\n    }\n  }\n\n  fetchImages = (query, page) => {\n    this.setState({ isLoading: true });\n\n    imgSearchAPI\n      .fetchImages(query, page)\n      .then(res =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...res.data.hits]\n        }))\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  handleSubmit = query => {\n    this.setState({ query, images: [], page: 1 });\n  };\n\n  handleOpenModal = id => {\n    this.setState({ isModalOpen: true, imgId: id });\n  };\n\n  handleCloseModal = e => {\n    this.setState({\n      isModalOpen: false,\n      imgId: \"\"\n    });\n  };\n\n  handleLoadMore = () => {\n    const { page } = this.state;\n\n    this.setState({\n      page: page + 1,\n      isLoading: true\n    });\n  };\n\n  render() {\n    const { images, isLoading, error, isModalOpen, imgId } = this.state;\n    return (\n      <div className={styles.App}>\n        <SearchBar onSubmit={this.handleSubmit} />\n\n        {isModalOpen && (\n          <Modal\n            imgId={imgId}\n            images={images}\n            onCloseModal={this.handleCloseModal}\n          />\n        )}\n        <ImageGallery images={images} openModal={this.handleOpenModal} />\n        {isLoading && <Loader />}\n        {error && <ErrorMessage text={error.message} />}\n        {images.length === 0 && <NoResult />}\n        {images.length >= 12 && <Button onLoadMore={this.handleLoadMore} />}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3xn6H\",\"SearchForm\":\"SearchBar_SearchForm__VIBC-\",\"SearchFormButton\":\"SearchBar_SearchFormButton__11oOn\",\"SearchForm-button\":\"SearchBar_SearchForm-button__32KD6\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3oTog\",\"SearchFormInput\":\"SearchBar_SearchFormInput__2KkeC\",\"SearchForm-input\":\"SearchBar_SearchForm-input__3jPpo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2IyXc\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__11KWU\"};"],"sourceRoot":""}